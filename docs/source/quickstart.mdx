---
title: Apollo MCP Server Quickstart
subtitle: Create and run an MCP server in minutes with Apollo
---

Apollo MCP Server is a [Model Context Protocol](https://modelcontextprotocol.io/) server that exposes your GraphQL API operations as MCP tools.

This guide walks you through the process of creating, running and configuring an MCP server with Apollo.

- [Step 1: Create Your MCP Server](#Step-1-Create-an-MCP-Server)
- [Step 2: Run Your MCP Server](#Step-2-Run-Your-MCP-Server)
- [Step 3: Connect to Claude Desktop (or another MCP client)](#Step-3-Connect-to-Claude-Desktop)
- [Step 4: Working with MCP Tools](#Step-4-Working-with-MCP-Tools)
- [Step 5: Deploy Your MCP Server](#Step-5-Deploy-Your-MCP-Server)

### Prerequisites

- [Rover CLI](https://www.apollographql.com/docs/rover/getting-started) v0.36 or later
- [Node.js](https://nodejs.org/) v18 or later (for mcp-remote)
- [Claude Desktop](https://claude.ai/download) or another MCP-compatible client

## Step 1: Create an MCP server

[Rover](https://www.apollographql.com/docs/rover) is the fastest way to create an Apollo MCP Server is using `rover init --mcp`. This command creates a complete project with:

- Pre-configured MCP server setup
- A federated GraphQL schema
- Sample GraphQL operations as MCP tools
- Claude Desktop configuration

### Authenticate with GraphOS

First, authenticate Rover with your Apollo account:

```bash
rover config auth
```

This opens your browser to create a personal API key. If you don't have an Apollo account, you'll be prompted to create one.

### Initialize your MCP project

Run the interactive initialization command:

```bash
rover init --mcp
```

The CLI wizard will guide you through several prompts:

1. Select option

- Choose "Create MCP tools from a new Apollo GraphOS project" for a fresh start
- Or choose "Create MCP tools from an existing Apollo GraphOS project" to add MCP to an existing graph

2. Choose a template

- Apollo graph with Apollo connectors - Connect to REST services _(recommended for most use cases)_
- Apollo graph with GraphQL connectors - Connect to existing GraphQL endpoints

3. Name your project

- Enter a descriptive name (e.g., "my-mcp-server", "spacedevs-mcp")

4. Review and confirm

The wizard shows all files that will be created, including:

```bash
- MCP server configuration files
- GraphQL schema and operations
- Client configuration (Claude Desktop, etc.)
- Docker setup for (optional) deployment 
```

Type `Y` to confirm and create your project. Your MCP server will be initialized and ready for next steps.


## Step 2: Run Your MCP Server

Now that your project is created, you can start your MCP server locally with `rover dev`.

### Load Environment Variables and Start MCP Server

<Tabs>

    <Tab label="Linux / MacOS">
    
    ```terminal showLineNumbers=false
    source .env && rover dev --supergraph-config supergraph.yaml --mcp mcpconfig/mcp.local.yaml
    ```

    </Tab>
    <Tab label="Windows">

    ##### Powershell

    ```terminal showLineNumbers=false
        Get-Content .env | ForEach-Object {
            $name, $value = $_.split('=',2);
            [System.Environment]::SetEnvironmentVariable($name, $value)
        }

        rover dev --supergraph-config supergraph.yaml --mcp mcpconfig/mcp.local.yaml
    ```
    </Tab>
</Tabs>

You should see:

```
✓ MCP server running at http://localhost:5000
✓ GraphQL API running at http://localhost:4000
```

Alternatively, you can also run the Apollo MCP Server via Docker, Apollo Runtime Container or using the MCP server binary - see the full guide on [Running the Apollo MCP Server](https://www.apollographql.com/docs/apollo-mcp-server/run).


### Verify with MCP Inspector

Before connecting Claude, verify your MCP server is working:

```terminal
npx @modelcontextprotocol/inspector http://127.0.0.1:5000/mcp --transport http
```

1. Open your browser to `http://127.0.0.1:6274`
2. Click **Connect**, then **List Tools**

You should see your GraphQL operations listed as MCP tools.

## Step 3: Connect to Claude Desktop

Apollo MCP Server works with **any** MCP-compatible client - add the generated initial `config.json` to the AI application of your choosing:

<details>
<summary>Claude Desktop</summary>

```
# Copy the configuration for Claude Desktop
# macOS:
cp claude_desktop_config.json ~/Library/Application\ Support/Claude/claude_desktop_config.json

# Windows:
copy claude_desktop_config.json "%APPDATA%\Claude\claude_desktop_config.json"

# Linux:
cp claude_desktop_config.json ~/.config/Claude/claude_desktop_config.json

# Restart Claude Desktop
```

</details>
<details>
<summary>Claude Code</summary>

Install using the CLI:

```bash
claude mcp add apollo-mcp npx mcp-remote http://127.0.0.1:5000/mcp
```
</details>
<details>
<summary>Cursor</summary>

Click the button to quick install:

[![Install Apollo MCP Server](https://cursor.com/deeplink/mcp-install-dark.svg)](cursor://anysphere.cursor-deeplink/mcp/install?name=apollo-mcp&config=eyJjb21tYW5kIjoibnB4IG1jcC1yZW1vdGUgaHR0cDovLzEyNy4wLjAuMTo1MDUwL21jcCJ9)

Or install manually:

1. Go to **Cursor Settings** → **MCP** → **Add new MCP Server**
2. Name: `Apollo MCP` (choose a title)
3. Command: `npx`
4. Arguments: `["mcp-remote", "http://127.0.0.1:5000/mcp"]`
</details>

<details>
<summary>Goose</summary>
Add Apollo MCP Server to your Goose configuration. Edit your `~/.config/goose/profiles.yaml`:


```yaml
default:
  provider: openai
  processor: gpt-4
  accelerator: gpt-4o-mini
  moderator: passive
  toolkits:
    - name: developer
    - name: mcp
      requires:
        apollo-mcp:
          command: npx
          args:
            - mcp-remote
            - http://127.0.0.1:5000/mcp
```

Or use the Goose CLI to add the MCP server:

```bash
goose mcp add apollo-mcp npx mcp-remote http://127.0.0.1:5000/mcp
```
</details>
<details>
<summary>Cline (VS Code Extension)</summary>

1. Go to **Advanced settings** → **Extensions** → **Add custom extension**
2. Name: `Apollo MCP`
3. Type: **STDIO**
4. Command: `npx mcp-remote http://127.0.0.1:5000/mcp`
</details>
<details>
<summary>OpenCode</summary>

Edit `~/.config/opencode/opencode.json`:

```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "apollo-mcp": {
      "type": "local", 
      "command": [
        "npx",
        "mcp-remote",
        "http://127.0.0.1:5000/mcp"
      ],
      "enabled": true
    }
  }
}
```
</details>
<details>
<summary>Windsurf</summary>

Go to **Windsurf Settings → MCP → Add new MCP Server**
Name: `Apollo MCP`
Command: `npx`
Arguments: `["mcp-remote", "http://127.0.0.1:5000/mcp"]`

Alternatively, edit your Windsurf configuration file directly:

```json
{
  "mcpServers": {
    "apollo-mcp": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "http://127.0.0.1:5000/mcp"
      ]
    }
  }
}
```
</details>



## Configuration Options

When using Apollo MCP Server, you can customize the server configuration through your `config.yaml` file - see the [YAML Config Reference page](./config-file) for a list of options.

Examples:

<details>
<summary>Basic Configuration</summary>

```yaml
endpoint: https://your-graphql-endpoint.com/graphql
operations:
  source: local
  paths:
    - ./operations
schema:
  source: local
  path: ./schema.graphql
transport:
  type: http
  port: 5000
```
</details>
<details>
<summary>Advanced Configuration</summary>

```yaml
endpoint: https://your-graphql-endpoint.com/graphql
operations:
  source: local
  paths:
    - ./operations
schema:
  source: local
  path: ./schema.graphql
transport:
  type: http
  port: 5000
  host: localhost
headers:
  Authorization: Bearer ${GRAPHQL_TOKEN}
  X-API-Key: ${API_KEY}
timeout: 30000
retry:
  attempts: 3
  delay: 1000
```

</details>

<details>
<summary>Environment Variables</summary>

You can use environment variables in your configuration:

```yaml
endpoint: ${GRAPHQL_ENDPOINT}
headers:
  Authorization: Bearer ${GRAPHQL_TOKEN}
```

Set these in your environment:
```bash
export GRAPHQL_ENDPOINT="https://your-api.com/graphql"
export GRAPHQL_TOKEN="your-token-here"
```
</details>

## Verification

After adding Apollo MCP Server to your client:

1. **Restart your MCP client** (Claude Desktop, Cursor, etc.)
2. **Test the connection** by asking: "What MCP tools do you have available?"
3. **Verify GraphQL operations** are listed as available tools
4. **Test a query** using one of your configured operations

## Troubleshooting

<details>
<summary>Common Issues</summary>

**Client doesn't see tools:**
- Ensure you restarted your MCP client after configuration
- Verify the Apollo MCP Server is running (`rover dev` command)
- Check port numbers match between server and client config

**Connection refused errors:**
- Confirm the server is running on the correct port (default: 5000)
- Verify firewall settings allow connections to localhost:5000
- For remote connections, ensure the host is set to `0.0.0.0` in your config

**GraphQL operation errors:**
- Verify your operations files exist in the specified paths
- Check that operation names match your GraphQL schema
- Ensure your GraphQL endpoint is accessible

**Authentication issues:**
- Verify environment variables are properly set
- Check that your GraphQL endpoint accepts the provided headers
- When using `rover dev` you can test your GraphQL endpoint using GraphOS Sandbox at [http://localhost:4000](http://localhost:4000)
</details>

## Step 4: Working with MCP Tools

Now that your MCP server is connected, learn how to customize and create tools.

### Understanding Tools

MCP tools are GraphQL operations that Claude can execute. Each operation in your `operations/` directory becomes a tool with:

- **Tool name**: Derived from the operation name
- **Description**: From GraphQL comments or operation descriptions
- **Parameters**: Mapped from GraphQL variables
- **Response**: The GraphQL response data

### Defining Custom Tools

Create new tools by adding GraphQL operation files to your `operations/` directory:

```graphql
# operations/GetProducts.graphql

# Retrieves product information by ID
query GetProducts($productId: ID!) {
  product(id: $productId) {
    id
    name
    price
    description
  }
}
```

Apollo MCP Server automatically detects new `.graphql` files and exposes them as tools. No server restart needed!

**Learn more:** [Defining MCP Tools](https://www.apollographql.com/docs/apollo-mcp-server/define-tools)

### Testing Operations in GraphOS Studio

The `rover dev` command command includes Sandbox:

1. Open http://localhost:4000 in your browser
2. Test your operations directly:
   - Browse your schema
   - Run queries and mutations
   - Experiment with variables
   - View responses

This is invaluable for:
- Verifying operations before exposing them as MCP tools
- Understanding your schema structure
- Debugging query issues
- Exploring available data

## Step 5: Deploy Your MCP Server

Once you're ready to deploy, Apollo MCP Server can run in any container environment.

### Using the Apollo Runtime Container

Your project includes a pre-configured `mcp.Dockerfile` for easy deployment. This container includes:

- Apollo Router for serving your GraphQL API
- Apollo MCP Server for MCP protocol support
- All necessary dependencies

**Build the container:**
```bash
docker build -f mcp.Dockerfile -t my-mcp-server .
```

**Run locally:**
```bash
docker run -p 4000:4000 -p 5050:5000 \
  -e APOLLO_KEY=$APOLLO_KEY \
  -e APOLLO_GRAPH_REF=$APOLLO_GRAPH_REF \
  -e MCP_ENABLE=1 \
  my-mcp-server
```

**Deploy to your platform:**

The container can be deployed to any platform supporting Docker:
- AWS ECS/Fargate
- Google Cloud Run
- Azure Container Instances
- Kubernetes
- Fly.io
- Railway
- Render

### Update Client Configuration

After deploying, update your MCP client configuration to use the deployed URL:

```json
{
  "mcpServers": {
    "my-api": {
      "command": "npx",
      "args": [
        "mcp-remote",
        "https://your-deployed-server.com/mcp"
      ]
    }
  }
}
```

### Environment Variables

Ensure these variables are set in your deployment environment:

| Variable | Description | Required |
|----------|-------------|----------|
| `APOLLO_KEY` | Your graph's API key | Yes |
| `APOLLO_GRAPH_REF` | Your graph reference | Yes |
| `APOLLO_MCP_TRANSPORT__PORT` | MCP server port (default: 5000) | No |
| `APOLLO_ROUTER_PORT` | Router port (default: 4000) | No |

For more deployment options, see the [Deploy the MCP Server](.deploy) page.

## Additional Resources

### Odyssey Tutorials

- [Odyssey Tutorial: Getting started with MCP and GraphQL](https://www.apollographql.com/tutorials/intro-mcp-graphql)
- [Odyssey Tutorial: Agentic GraphQL: MCP for the Enterprise](https://www.apollographql.com/tutorials/enterprise-mcp-graphql)

### Blog Posts

- [Getting Started with Apollo MCP Server](https://www.apollographql.com/blog/getting-started-with-apollo-mcp-server-for-any-graphql-api)
- [Building AI Tools with GraphQL](https://www.apollographql.com/blog)

### Video Tutorials

- [Apollo MCP Server Quickstart (YouTube)](https://www.youtube.com/watch?v=QTvMYUP4E30)
- [Interactive Course](https://www.apollographql.com/tutorials/intro-mcp-graphql)

### Getting Help

If you're still having issues:

- Check [Apollo MCP Server GitHub issues](https://github.com/apollographql/apollo-mcp-server/issues)
- Join the [Apollo Community MCP Server Category](https://community.apollographql.com/c/mcp-server/41)
- Contact your Apollo representative for direct support
